"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _langAlphaProb=require("lang-alpha-prob");var _langAlphaProb2=_interopRequireDefault(_langAlphaProb);exports["default"]={set:set,word:word};var alphabet=undefined;var matrix=undefined;function set(language){if(Array.isArray(language)||language instanceof Set){_langAlphaProb2["default"].set(language);alphabet=_langAlphaProb2["default"].alphabet();matrix=_langAlphaProb2["default"].matrix()}else if(language&&Array.isArray(language.alphabet)&&Array.isArray(language.matrix)&&language.alphabet.length===language.matrix.length&&language.matrix.every(function(col,i,matrix){return col.length===matrix.length})){alphabet=language.alphabet;matrix=language.matrix}else{throw new TypeError("You must pass a language set or array or an alphabet and a matrix.")}}function word(){var _ref=arguments.length<=0||arguments[0]===undefined?{number:1}:arguments[0];var size=_ref.size;var _ref$number=_ref.number;var number=_ref$number===undefined?1:_ref$number;var _ref$start=_ref.start;var start=_ref$start===undefined?"":_ref$start;var _ref$end=_ref.end;var end=_ref$end===undefined?"":_ref$end;var words=[];size=size||Math.floor(Math.random()*(alphabet.length-1))+1;for(var i=0;i<number;i++){var _word=start||alphabet[Math.floor(Math.random()*(alphabet.length-1))];for(var j=_word.length;j<size-end.length;j++){_word+=_nextChar(_word)}_word+=end;words.push(_word)}return words}function _nextChar(word){var previousState=alphabet.indexOf(word[word.length-1]);var weight=matrix[previousState];var sum=0;var rand=Math.random();var nextState=weight.findIndex(function(prob){sum+=prob;return rand<=sum});return alphabet[nextState]}module.exports=exports["default"];